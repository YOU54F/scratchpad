name: msys2

on:
  push:
jobs:
  build-and-deploy:
    runs-on: windows-latest
    steps:
    - uses: msys2/setup-msys2@v2
      with:
        msystem: CLANGARM64
    - shell: msys2 {0}
      run: |   
        # echo yes | pacman -S mingw-w64-clang-x86_64-ruby
        # /clang64/bin/ruby --version
        ls /clangarm64
        echo yes | pacman -S git \
                    mingw-w64-clang-aarch64-clang
                    # mingw-w64-clang-aarch64-cc
                    # mingw-w64-clang-aarch64-autotools
                    # mingw-w64-clang-aarch64-doxygen
                    # mingw-w64-clang-aarch64-graphviz
                    # ingw-w64-clang-aarch64-gcc-libs
                    # mingw-w64-clang-aarch64-gdbm
                    # mingw-w64-clang-aarch64-libyaml
                    # mingw-w64-clang-aarch64-libffi
                    # mingw-w64-clang-aarch64-pdcurses
                    # mingw-w64-clang-aarch64-openssl
                    # mingw-w64-clang-aarch64-gmp
                    # mingw-w64-clang-aarch64-tk
        git clone https://github.com/YOU54F/rubyinstaller2-packages.git
        cd rubyinstaller2-packages
        cd mingw-w64-ruby32
        MINGW_ARCH=clangarm64 makepkg-mingw -sLf
